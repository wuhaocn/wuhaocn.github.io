<!DOCTYPE html>
<html lang=zh>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top" />
  
  
  <title>一文看懂DPDK | Hexo</title>
  <meta name="description" content="大纲： 一、 网络IO的处境和趋势 二、 Linux + x86网络IO瓶颈 三、 DPDK的基本原理 四、 DPDK的基石UIO 五、 DPDK核心优化：PMD 六、 DPDK的高性能代码实现 七、 DPDK生态  一、网络IO的处境和趋势从我们用户的使用就可以感受到网速一直在提升，而网络技术的发展也从1GE&#x2F;10GE&#x2F;25GE&#x2F;40GE&#x2F;100GE的演变，从中可以得出单机的网络IO能力必须跟上">
<meta property="og:type" content="article">
<meta property="og:title" content="一文看懂DPDK">
<meta property="og:url" content="https://wuhaocn.github.io/2021/08/04/network/dpdk/%E4%B8%80%E6%96%87%E7%9C%8B%E6%87%82DPDK/index.html">
<meta property="og:site_name" content="wuhaocn">
<meta property="og:description" content="大纲： 一、 网络IO的处境和趋势 二、 Linux + x86网络IO瓶颈 三、 DPDK的基本原理 四、 DPDK的基石UIO 五、 DPDK核心优化：PMD 六、 DPDK的高性能代码实现 七、 DPDK生态  一、网络IO的处境和趋势从我们用户的使用就可以感受到网速一直在提升，而网络技术的发展也从1GE&#x2F;10GE&#x2F;25GE&#x2F;40GE&#x2F;100GE的演变，从中可以得出单机的网络IO能力必须跟上">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2021/png/804884/1627481909477-2b323099-10ad-4130-9304-45ec7a49f78b.png#clientId=uaf56e294-6f0f-4&from=paste&height=509&id=ub579f8c8&margin=%5Bobject%20Object%5D&name=image.png&originHeight=1017&originWidth=1620&originalType=binary&ratio=1&size=250499&status=done&style=none&taskId=u2563a9e7-9bfd-435c-be58-c4bf5090890&width=810">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2021/png/804884/1627481922795-fca2bf04-8423-4259-8388-048077db52f2.png#clientId=uaf56e294-6f0f-4&from=paste&height=335&id=u6daa38c3&margin=%5Bobject%20Object%5D&name=image.png&originHeight=669&originWidth=1024&originalType=binary&ratio=1&size=209374&status=done&style=none&taskId=u86af8dc3-fe1b-4d36-aa01-2a17725dd02&width=512">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2021/png/804884/1627481936558-321d0b43-f5b2-40a3-91f1-f22d15f099f8.png#clientId=uaf56e294-6f0f-4&from=paste&height=387&id=ucbfe9a24&margin=%5Bobject%20Object%5D&name=image.png&originHeight=308&originWidth=561&originalType=binary&ratio=1&size=36195&status=done&style=none&taskId=uf66018ea-7769-486d-a44c-9d21dcd084d&width=704.5">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2021/png/804884/1627481948671-5b96cbd8-dc36-4d24-a127-7fd62105a10d.png#clientId=uaf56e294-6f0f-4&from=paste&height=176&id=u704c6d00&margin=%5Bobject%20Object%5D&name=image.png&originHeight=183&originWidth=729&originalType=binary&ratio=1&size=26634&status=done&style=none&taskId=udeeea4f7-6473-4504-8186-2bf2e0adda5&width=699.5">
<meta property="article:published_time" content="2021-08-04T06:25:13.670Z">
<meta property="article:modified_time" content="2021-08-04T06:25:13.671Z">
<meta property="article:author" content="wuhao">
<meta property="article:tag" content="5G">
<meta property="article:tag" content="DPDK">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.nlark.com/yuque/0/2021/png/804884/1627481909477-2b323099-10ad-4130-9304-45ec7a49f78b.png#clientId=uaf56e294-6f0f-4&from=paste&height=509&id=ub579f8c8&margin=%5Bobject%20Object%5D&name=image.png&originHeight=1017&originWidth=1620&originalType=binary&ratio=1&size=250499&status=done&style=none&taskId=u2563a9e7-9bfd-435c-be58-c4bf5090890&width=810">
  <!-- Canonical links -->
  <link rel="canonical" href="https://wuhaocn.github.io/2021/08/04/network/dpdk/%E4%B8%80%E6%96%87%E7%9C%8B%E6%87%82DPDK/index.html">
  
    <link rel="alternate" href="/atom.xml" title="wuhaocn" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png" type="image/x-icon">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
  
  
<meta name="generator" content="Hexo 5.4.0"></head>


<body class="main-center" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="https://github.com/wuhaocn" target="_blank">
          <img class="img-circle img-rotate" src="/images/avatar.png" width="200" height="200">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">wuhaocn</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md">Java &amp; 后端 &amp; 通信</h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> BeiJing, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="搜索" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav ">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">首页</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">归档</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            
            <i class="icon icon-folder"></i>
            
            <span class="menu-title">分类</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-tags">
          <a href="/tags">
            
            <i class="icon icon-tags"></i>
            
            <span class="menu-title">标签</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-repository">
          <a href="/repository">
            
            <i class="icon icon-project"></i>
            
            <span class="menu-title">项目</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-books">
          <a href="/books">
            
            <i class="icon icon-book-fill"></i>
            
            <span class="menu-title">书单</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-links">
          <a href="/links">
            
            <i class="icon icon-friendship"></i>
            
            <span class="menu-title">友链</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-about">
          <a href="/about">
            
            <i class="icon icon-cup-fill"></i>
            
            <span class="menu-title">关于</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/wuhaocn" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://weibo.com/cofess" target="_blank" title="Weibo" data-toggle=tooltip data-placement=top><i class="icon icon-weibo"></i></a></li>
        
        <li><a href="https://twitter.com/iwebued" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
        <li><a href="https://www.behance.net/cofess" target="_blank" title="Behance" data-toggle=tooltip data-placement=top><i class="icon icon-behance"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">公告</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p>欢迎交流与分享经验!</p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">分类</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/5G/">5G</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/algorithm/">algorithm</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/devops/">devops</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a><span class="category-list-count">20</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%9F%AD%E4%BF%A1/">短信</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80-shell/">编程语言 - shell</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">标签</h3>
    <div class="widget-body">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/5G/" rel="tag">5G</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AOP/" rel="tag">AOP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DPDK/" rel="tag">DPDK</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JVM/" rel="tag">JVM</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MEC/" rel="tag">MEC</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NGAP/" rel="tag">NGAP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ai/" rel="tag">ai</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/atomic/" rel="tag">atomic</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/brew/" rel="tag">brew</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cmpp/" rel="tag">cmpp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/design/" rel="tag">design</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/" rel="tag">docker</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ftp/" rel="tag">ftp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grafana/" rel="tag">grafana</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/" rel="tag">java</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jenkins/" rel="tag">jenkins</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nexus/" rel="tag">nexus</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/prometheus/" rel="tag">prometheus</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sort/" rel="tag">sort</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8A%A8%E6%80%81%E8%B0%83%E8%AF%95%E6%8A%80%E6%9C%AF/" rel="tag">动态调试技术</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%97%E8%8A%82%E7%A0%81/" rel="tag">字节码</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C%E5%88%87%E7%89%87/" rel="tag">网络切片</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">标签云</h3>
    <div class="widget-body tagcloud">
      <a href="/tags/5G/" style="font-size: 13.4px;">5G</a> <a href="/tags/AOP/" style="font-size: 13px;">AOP</a> <a href="/tags/DPDK/" style="font-size: 13.2px;">DPDK</a> <a href="/tags/JVM/" style="font-size: 13.8px;">JVM</a> <a href="/tags/MEC/" style="font-size: 13px;">MEC</a> <a href="/tags/NGAP/" style="font-size: 13px;">NGAP</a> <a href="/tags/ai/" style="font-size: 13px;">ai</a> <a href="/tags/atomic/" style="font-size: 13.4px;">atomic</a> <a href="/tags/brew/" style="font-size: 13px;">brew</a> <a href="/tags/cmpp/" style="font-size: 13px;">cmpp</a> <a href="/tags/design/" style="font-size: 13px;">design</a> <a href="/tags/docker/" style="font-size: 13.6px;">docker</a> <a href="/tags/ftp/" style="font-size: 13px;">ftp</a> <a href="/tags/grafana/" style="font-size: 13px;">grafana</a> <a href="/tags/java/" style="font-size: 13px;">java</a> <a href="/tags/jenkins/" style="font-size: 13px;">jenkins</a> <a href="/tags/nexus/" style="font-size: 13px;">nexus</a> <a href="/tags/prometheus/" style="font-size: 13px;">prometheus</a> <a href="/tags/sort/" style="font-size: 14px;">sort</a> <a href="/tags/%E5%8A%A8%E6%80%81%E8%B0%83%E8%AF%95%E6%8A%80%E6%9C%AF/" style="font-size: 13px;">动态调试技术</a> <a href="/tags/%E5%AD%97%E8%8A%82%E7%A0%81/" style="font-size: 13.4px;">字节码</a> <a href="/tags/%E7%BD%91%E7%BB%9C%E5%88%87%E7%89%87/" style="font-size: 13px;">网络切片</a>
    </div>
  </div>

    
      
  <div class="widget">
    <h3 class="widget-title">归档</h3>
    <div class="widget-body">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">十月 2021</a><span class="archive-list-count">23</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">八月 2021</a><span class="archive-list-count">24</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">七月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">六月 2021</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">五月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/linux/">linux</a>
              </p>
              <p class="item-title">
                <a href="/2021/10/18/language/shell/Linux%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E7%94%A8%E6%B3%95%E4%B8%8E%E5%AE%9E%E4%BE%8B/" class="title">Linux定时任务用法与实例</a>
              </p>
              <p class="item-date">
                <time datetime="2021-10-18T03:19:43.244Z" itemprop="datePublished">2021-10-18</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/linux/">linux</a>
              </p>
              <p class="item-title">
                <a href="/2021/10/18/language/shell/Linux%E6%97%A5%E6%9C%9F%E8%8E%B7%E5%8F%96/" class="title">Linux日期获取</a>
              </p>
              <p class="item-date">
                <time datetime="2021-10-18T03:19:29.345Z" itemprop="datePublished">2021-10-18</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/devops/">devops</a>
              </p>
              <p class="item-title">
                <a href="/2021/10/15/tool/mac/brew%E5%B8%B8%E7%94%A8%E8%AE%BE%E7%BD%AE/" class="title">brew常用设置</a>
              </p>
              <p class="item-date">
                <time datetime="2021-10-15T06:08:00.262Z" itemprop="datePublished">2021-10-15</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/devops/">devops</a>
              </p>
              <p class="item-title">
                <a href="/2021/10/14/devops/docker/docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" class="title">docker常用命令</a>
              </p>
              <p class="item-date">
                <time datetime="2021-10-14T02:20:08.920Z" itemprop="datePublished">2021-10-14</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                
              </p>
              <p class="item-title">
                <a href="/2021/10/01/tool/hexo-config/" class="title">hexo-配置</a>
              </p>
              <p class="item-date">
                <time datetime="2021-10-01T13:12:11.461Z" itemprop="datePublished">2021-10-01</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
<meta name="referrer" content="no-referrer" />
<main class="main" role="main">
  <div class="content">
  <article id="post-network/dpdk/一文看懂DPDK" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      一文看懂DPDK
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2021/08/04/network/dpdk/%E4%B8%80%E6%96%87%E7%9C%8B%E6%87%82DPDK/" class="article-date">
	  <time datetime="2021-08-04T06:25:13.670Z" itemprop="datePublished">2021-08-04</time>
	</a>
</span>
        
  <span class="article-category">
    <i class="icon icon-folder"></i>
    <a class="article-category-link" href="/categories/5G/">5G</a>
  </span>

        
  <span class="article-tag">
    <i class="icon icon-tags"></i>
	<a class="article-tag-link-link" href="/tags/5G/" rel="tag">5G</a>, <a class="article-tag-link-link" href="/tags/DPDK/" rel="tag">DPDK</a>
  </span>


        

        <span class="post-comment"><i class="icon icon-comment"></i> <a href="/2021/08/04/network/dpdk/%E4%B8%80%E6%96%87%E7%9C%8B%E6%87%82DPDK/#comments" class="article-comment-link">评论</a></span>
        
      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <h1 id="大纲："><a href="#大纲：" class="headerlink" title="大纲："></a>大纲：</h1><ul>
<li>一、 网络IO的处境和趋势</li>
<li>二、 Linux + x86网络IO瓶颈</li>
<li>三、 DPDK的基本原理</li>
<li>四、 DPDK的基石UIO</li>
<li>五、 DPDK核心优化：PMD</li>
<li>六、 DPDK的高性能代码实现</li>
<li>七、 DPDK生态</li>
</ul>
<h2 id="一、网络IO的处境和趋势"><a href="#一、网络IO的处境和趋势" class="headerlink" title="一、网络IO的处境和趋势"></a>一、网络IO的处境和趋势</h2><p>从我们用户的使用就可以感受到网速一直在提升，而网络技术的发展也从1GE/10GE/25GE/40GE/100GE的演变，从中可以得出单机的网络IO能力必须跟上时代的发展。<br><strong>1.传统的电信领域</strong><br>IP层及以下，例如路由器、交换机、防火墙、基站等设备都是采用硬件解决方案。基于专用网络处理器（NP），有基于FPGA，更有基于ASIC的。但是基于硬件的劣势非常明显，发生Bug不易修复，不易调试维护，并且网络技术一直在发展，例如2G/3G/4G/5G等移动技术的革新，这些属于业务的逻辑基于硬件实现太痛苦，不能快速迭代。传统领域面临的挑战是急需一套软件架构的高性能网络IO开发框架。<br><strong>2.云的发展</strong><br>私有云的出现通过网络功能虚拟化（NFV）共享硬件成为趋势，NFV的定义是通过标准的服务器、标准交换机实现各种传统的或新的网络功能。急需一套基于常用系统和标准服务器的高性能网络IO开发框架。<br><strong>3.单机性能的飙升</strong><br>网卡从1G到100G的发展，CPU从单核到多核到多CPU的发展，服务器的单机能力通过横行扩展达到新的高点。但是软件开发却无法跟上节奏，单机处理能力没能和硬件门当户对，如何开发出与时并进高吞吐量的服务，单机百万千万并发能力。即使有业务对QPS要求不高，主要是CPU密集型，但是现在大数据分析、人工智能等应用都需要在分布式服务器之间传输大量数据完成作业。这点应该是我们互联网后台开发最应关注，也最关联的。</p>
<h2 id="二、Linux-x86网络IO瓶颈"><a href="#二、Linux-x86网络IO瓶颈" class="headerlink" title="二、Linux + x86网络IO瓶颈"></a>二、Linux + x86网络IO瓶颈</h2><p>在数年前曾经写过《网卡工作原理及高并发下的调优》一文，描述了Linux的收发报文流程。根据经验，在C1（8核）上跑应用每1W包处理需要消耗1%软中断CPU，这意味着单机的上限是100万PPS（Packet Per Second）。从TGW（Netfilter版）的性能100万PPS，AliLVS优化了也只到150万PPS，并且他们使用的服务器的配置还是比较好的。假设，我们要跑满10GE网卡，每个包64字节，这就需要2000万PPS（注：以太网万兆网卡速度上限是1488万PPS，因为最小帧大小为84B《<a target="_blank" rel="noopener" href="https://www.cisco.com/c/en/us/about/security-center/network-performance-metrics.html">Bandwidth, Packets Per Second, and Other Network Performance Metrics</a>》），100G是2亿PPS，即每个包的处理耗时不能超过50纳秒。而一次Cache Miss，不管是TLB、数据Cache、指令Cache发生Miss，回内存读取大约65纳秒，NUMA体系下跨Node通讯大约40纳秒。所以，即使不加上业务逻辑，即使纯收发包都如此艰难。我们要控制Cache的命中率，我们要了解计算机体系结构，不能发生跨Node通讯。<br>从这些数据，我希望可以直接感受一下这里的挑战有多大，理想和现实，我们需要从中平衡。问题都有这些<br>1.传统的收发报文方式都必须采用硬中断来做通讯，每次硬中断大约消耗100微秒，这还不算因为终止上下文所带来的Cache Miss。<br>2.数据必须从内核态用户态之间切换拷贝带来大量CPU消耗，全局锁竞争。<br>3.收发包都有系统调用的开销。<br>4.内核工作在多核上，为可全局一致，即使采用Lock Free，也避免不了锁总线、内存屏障带来的性能损耗。<br>5.从网卡到业务进程，经过的路径太长，有些其实未必要的，例如netfilter框架，这些都带来一定的消耗，而且容易Cache Miss。</p>
<h2 id="三、DPDK的基本原理"><a href="#三、DPDK的基本原理" class="headerlink" title="三、DPDK的基本原理"></a>三、DPDK的基本原理</h2><p>从前面的分析可以得知IO实现的方式、内核的瓶颈，以及数据流过内核存在不可控因素，这些都是在内核中实现，内核是导致瓶颈的原因所在，要解决问题需要绕过内核。所以主流解决方案都是旁路网卡IO，绕过内核直接在用户态收发包来解决内核的瓶颈。<br>Linux社区也提供了旁路机制<a target="_blank" rel="noopener" href="http://info.iet.unipi.it/~luigi/netmap/">Netmap</a>，官方数据10G网卡1400万PPS，但是Netmap没广泛使用。其原因有几个：<br>1.Netmap需要驱动的支持，即需要网卡厂商认可这个方案。<br>2.Netmap仍然依赖中断通知机制，没完全解决瓶颈。<br>3.Netmap更像是几个系统调用，实现用户态直接收发包，功能太过原始，没形成依赖的网络开发框架，社区不完善。<br>那么，我们来看看发展了十几年的DPDK，从Intel主导开发，到华为、思科、AWS等大厂商的加入，核心玩家都在该圈子里，拥有完善的社区，生态形成闭环。早期，主要是传统电信领域3层以下的应用，如华为、中国电信、中国移动都是其早期使用者，交换机、路由器、网关是主要应用场景。但是，随着上层业务的需求以及DPDK的完善，在更高的应用也在逐步出现。<br>DPDK旁路原理：<br><img src="https://cdn.nlark.com/yuque/0/2021/png/804884/1627481909477-2b323099-10ad-4130-9304-45ec7a49f78b.png#clientId=uaf56e294-6f0f-4&from=paste&height=509&id=ub579f8c8&margin=%5Bobject%20Object%5D&name=image.png&originHeight=1017&originWidth=1620&originalType=binary&ratio=1&size=250499&status=done&style=none&taskId=u2563a9e7-9bfd-435c-be58-c4bf5090890&width=810" alt="image.png"><br>图片引自Jingjing Wu的文档《Flow Bifurcation on Intel® Ethernet Controller X710/XL710》<br>左边是原来的方式数据从 网卡 -&gt; 驱动 -&gt; 协议栈 -&gt; Socket接口 -&gt; 业务<br>右边是DPDK的方式，基于UIO（Userspace I/O）旁路数据。数据从 网卡 -&gt; DPDK轮询模式-&gt; DPDK基础库 -&gt; 业务<br>用户态的好处是易用开发和维护，灵活性好。并且Crash也不影响内核运行，鲁棒性强。<br>DPDK支持的CPU体系架构：x86、ARM、PowerPC（PPC）<br>DPDK支持的网卡列表：<a target="_blank" rel="noopener" href="https://core.dpdk.org/supported/">https://core.dpdk.org/supported/</a>，我们主流使用Intel 82599（光口）、Intel x540（电口）</p>
<h2 id="四、DPDK的基石UIO"><a href="#四、DPDK的基石UIO" class="headerlink" title="四、DPDK的基石UIO"></a>四、DPDK的基石UIO</h2><p>为了让驱动运行在用户态，Linux提供<a target="_blank" rel="noopener" href="https://lwn.net/Articles/232575/">UIO</a>机制。使用UIO可以通过read感知中断，通过mmap实现和网卡的通讯。<br><strong>UIO原理：</strong><br><img src="https://cdn.nlark.com/yuque/0/2021/png/804884/1627481922795-fca2bf04-8423-4259-8388-048077db52f2.png#clientId=uaf56e294-6f0f-4&from=paste&height=335&id=u6daa38c3&margin=%5Bobject%20Object%5D&name=image.png&originHeight=669&originWidth=1024&originalType=binary&ratio=1&size=209374&status=done&style=none&taskId=u86af8dc3-fe1b-4d36-aa01-2a17725dd02&width=512" alt="image.png"><br>要开发用户态驱动有几个步骤：<br>1.开发运行在内核的UIO模块，因为硬中断只能在内核处理<br>2.通过/dev/uioX读取中断<br>3.通过mmap和外设共享内存</p>
<h2 id="五、DPDK核心优化：PMD"><a href="#五、DPDK核心优化：PMD" class="headerlink" title="五、DPDK核心优化：PMD"></a>五、DPDK核心优化：PMD</h2><p>DPDK的UIO驱动屏蔽了硬件发出中断，然后在用户态采用主动轮询的方式，这种模式被称为<a target="_blank" rel="noopener" href="http://doc.dpdk.org/guides/prog_guide/poll_mode_drv.html">PMD</a>（Poll Mode Driver）。<br>UIO旁路了内核，主动轮询去掉硬中断，DPDK从而可以在用户态做收发包处理。带来Zero Copy、无系统调用的好处，同步处理减少上下文切换带来的Cache Miss。<br>运行在PMD的Core会处于用户态CPU100%的状态<br><img src="https://cdn.nlark.com/yuque/0/2021/png/804884/1627481936558-321d0b43-f5b2-40a3-91f1-f22d15f099f8.png#clientId=uaf56e294-6f0f-4&from=paste&height=387&id=ucbfe9a24&margin=%5Bobject%20Object%5D&name=image.png&originHeight=308&originWidth=561&originalType=binary&ratio=1&size=36195&status=done&style=none&taskId=uf66018ea-7769-486d-a44c-9d21dcd084d&width=704.5" alt="image.png"><br>网络空闲时CPU长期空转，会带来能耗问题。所以，DPDK推出Interrupt DPDK模式。<br><strong>Interrupt DPDK：</strong><br><img src="https://cdn.nlark.com/yuque/0/2021/png/804884/1627481948671-5b96cbd8-dc36-4d24-a127-7fd62105a10d.png#clientId=uaf56e294-6f0f-4&from=paste&height=176&id=u704c6d00&margin=%5Bobject%20Object%5D&name=image.png&originHeight=183&originWidth=729&originalType=binary&ratio=1&size=26634&status=done&style=none&taskId=udeeea4f7-6473-4504-8186-2bf2e0adda5&width=699.5" alt="image.png"><br>图片引自David Su/Yunhong Jiang/Wei Wang的文档《Towards Low Latency Interrupt Mode DPDK》<br>它的原理和<a target="_blank" rel="noopener" href="https://www.ibm.com/developerworks/cn/linux/l-napi/index.html">NAPI</a>很像，就是没包可处理时进入睡眠，改为中断通知。并且可以和其他进程共享同个CPU Core，但是DPDK进程会有更高调度优先级。</p>
<h2 id="六、DPDK的高性能代码实现"><a href="#六、DPDK的高性能代码实现" class="headerlink" title="六、DPDK的高性能代码实现"></a>六、DPDK的高性能代码实现</h2><p><strong>1.采用</strong><a target="_blank" rel="noopener" href="https://www.kernel.org/doc/Documentation/vm/hugetlbpage.txt">HugePage</a><strong>减少TLB Miss</strong><br>默认下Linux采用4KB为一页，页越小内存越大，页表的开销越大，页表的内存占用也越大。CPU有<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Translation_lookaside_buffer">TLB</a>（Translation Lookaside Buffer）成本高所以一般就只能存放几百到上千个页表项。如果进程要使用64G内存，则64G/4KB=16000000（一千六百万）页，每页在页表项中占用16000000 * 4B=62MB。如果用HugePage采用2MB作为一页，只需64G/2MB=2000，数量不在同个级别。<br>而DPDK采用HugePage，在x86-64下支持2MB、1GB的页大小，几何级的降低了页表项的大小，从而减少TLB-Miss。并提供了内存池（Mempool）、MBuf、无锁环（Ring）、Bitmap等基础库。根据我们的实践，在数据平面（Data Plane）频繁的内存分配释放，必须使用内存池，不能直接使用rte_malloc，DPDK的内存分配实现非常简陋，不如ptmalloc。<br><strong>2.SNA（Shared-nothing Architecture）</strong><br>软件架构去中心化，尽量避免全局共享，带来全局竞争，失去横向扩展的能力。NUMA体系下不跨Node远程使用内存。<br><strong>3.SIMD（Single Instruction Multiple Data）</strong><br>从最早的mmx/sse到最新的avx2，SIMD的能力一直在增强。DPDK采用批量同时处理多个包，再用向量编程，一个周期内对所有包进行处理。比如，memcpy就使用SIMD来提高速度。<br>SIMD在游戏后台比较常见，但是其他业务如果有类似批量处理的场景，要提高性能，也可看看能否满足。<br><strong>4.不使用慢速API</strong><br>这里需要重新定义一下慢速API，比如说gettimeofday，虽然在64位下通过<a target="_blank" rel="noopener" href="http://man7.org/linux/man-pages/man7/vdso.7.html">vDSO</a>已经不需要陷入内核态，只是一个纯内存访问，每秒也能达到几千万的级别。但是，不要忘记了我们在10GE下，每秒的处理能力就要达到几千万。所以即使是gettimeofday也属于慢速API。DPDK提供<a target="_blank" rel="noopener" href="https://doc.dpdk.org/api/rte__cycles_8h.html">Cycles</a>接口，例如rte_get_tsc_cycles接口，基于HPET或TSC实现。<br>在x86-64下使用RDTSC指令，直接从寄存器读取，需要输入2个参数，比较常见的实现：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">static inline uint64_t</span><br><span class="line">rte_rdtsc(void)</span><br><span class="line">&#123;</span><br><span class="line">      uint32_t lo, hi;</span><br><span class="line"></span><br><span class="line">      __asm__ __volatile__ (</span><br><span class="line">                 &quot;rdtsc&quot; : &quot;=a&quot;(lo), &quot;=d&quot;(hi)</span><br><span class="line">                 );</span><br><span class="line"></span><br><span class="line">      return ((unsigned long long)lo) | (((unsigned long long)hi) &lt;&lt; 32);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这么写逻辑没错，但是还不够极致，还涉及到2次位运算才能得到结果，我们看看DPDK是怎么实现：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">static inline uint64_t</span><br><span class="line">rte_rdtsc(void)</span><br><span class="line">&#123;</span><br><span class="line">	union &#123;</span><br><span class="line">		uint64_t tsc_64;</span><br><span class="line">		struct &#123;</span><br><span class="line">			uint32_t lo_32;</span><br><span class="line">			uint32_t hi_32;</span><br><span class="line">		&#125;;</span><br><span class="line">	&#125; tsc;</span><br><span class="line"></span><br><span class="line">	asm volatile(&quot;rdtsc&quot; :</span><br><span class="line">		     &quot;=a&quot; (tsc.lo_32),</span><br><span class="line">		     &quot;=d&quot; (tsc.hi_32));</span><br><span class="line">	return tsc.tsc_64;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>巧妙的利用C的union共享内存，直接赋值，减少了不必要的运算。但是使用tsc有些问题需要面对和解决</p>
<ol>
<li>CPU亲和性，解决多核跳动不精确的问题</li>
<li>内存屏障，解决乱序执行不精确的问题</li>
<li>禁止降频和禁止Intel Turbo Boost，固定CPU频率，解决频率变化带来的失准问题</li>
</ol>
<p><strong>5.编译执行优化</strong></p>
<ol>
<li>分支预测<br>现代CPU通过<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Instruction_pipelining">pipeline</a>、<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E8%B6%85%E7%B4%94%E9%87%8F">superscalar</a>提高并行处理能力，为了进一步发挥并行能力会做<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%88%86%E6%94%AF%E9%A0%90%E6%B8%AC%E5%99%A8">分支预测</a>，提升CPU的并行能力。遇到分支时判断可能进入哪个分支，提前处理该分支的代码，预先做指令读取编码读取寄存器等，预测失败则预处理全部丢弃。我们开发业务有时候会非常清楚这个分支是true还是false，那就可以通过人工干预生成更紧凑的代码提示CPU分支预测成功率。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#pragma once</span><br><span class="line"></span><br><span class="line">#if !__GLIBC_PREREQ(2, 3)</span><br><span class="line">#    if !define __builtin_expect</span><br><span class="line">#        define __builtin_expect(x, expected_value) (x)</span><br><span class="line">#    endif</span><br><span class="line">#endif</span><br><span class="line"></span><br><span class="line">#if !defined(likely)</span><br><span class="line">#define likely(x) (__builtin_expect(!!(x), 1))</span><br><span class="line">#endif</span><br><span class="line"></span><br><span class="line">#if !defined(unlikely)</span><br><span class="line">#define unlikely(x) (__builtin_expect(!!(x), 0))</span><br><span class="line">#endif</span><br></pre></td></tr></table></figure></li>
<li>CPU Cache预取<br>Cache Miss的代价非常高，回内存读需要65纳秒，可以将即将访问的数据主动推送的CPU Cache进行优化。比较典型的场景是链表的遍历，链表的下一节点都是随机内存地址，所以CPU肯定是无法自动预加载的。但是我们在处理本节点时，可以通过CPU指令将下一个节点推送到Cache里。<br>API文档：<a target="_blank" rel="noopener" href="https://doc.dpdk.org/api/rte__prefetch_8h.html">https://doc.dpdk.org/api/rte__prefetch_8h.html</a></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">static inline void rte_prefetch0(const volatile void *p)</span><br><span class="line">&#123;</span><br><span class="line">	asm volatile (&quot;prefetcht0 %[p]&quot; : : [p] &quot;m&quot; (*(const volatile char *)p));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#if !defined(prefetch)</span><br><span class="line">#define prefetch(x) __builtin_prefetch(x)</span><br><span class="line">#endif</span><br></pre></td></tr></table></figure>
<p>…等等<br>3) 内存对齐<br>内存对齐有2个好处：<br>l 避免结构体成员跨Cache Line，需2次读取才能合并到寄存器中，降低性能。结构体成员需从大到小排序和以及强制对齐。参考《<a target="_blank" rel="noopener" href="https://www.ibm.com/developerworks/library/pa-dalign/">Data alignment: Straighten up and fly right</a>》</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#define __rte_packed __attribute__((__packed__))</span><br></pre></td></tr></table></figure>
<p>l 多线程场景下写产生<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/False_sharing">False sharing</a>，造成Cache Miss，结构体按Cache Line对齐</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#ifndef CACHE_LINE_SIZE</span><br><span class="line">#define CACHE_LINE_SIZE 64</span><br><span class="line">#endif</span><br><span class="line"></span><br><span class="line">#ifndef aligined</span><br><span class="line">#define aligined(a) __attribute__((__aligned__(a)))</span><br><span class="line">#endif</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>常量优化<br>常量相关的运算的编译阶段完成。比如C++11引入了constexp，比如可以使用GCC的__builtin_constant_p来判断值是否常量，然后对常量进行编译时得出结果。举例网络序主机序转换<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#define rte_bswap32(x) ((uint32_t)(__builtin_constant_p(x) ?		\</span><br><span class="line">				   rte_constant_bswap32(x) :		\</span><br><span class="line">				   rte_arch_bswap32(x)))</span><br></pre></td></tr></table></figure>
其中rte_constant_bswap32的实现<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#define RTE_STATIC_BSWAP32(v) \</span><br><span class="line">	((((uint32_t)(v) &amp; UINT32_C(0x000000ff)) &lt;&lt; 24) | \</span><br><span class="line">	 (((uint32_t)(v) &amp; UINT32_C(0x0000ff00)) &lt;&lt;  8) | \</span><br><span class="line">	 (((uint32_t)(v) &amp; UINT32_C(0x00ff0000)) &gt;&gt;  8) | \</span><br><span class="line">	 (((uint32_t)(v) &amp; UINT32_C(0xff000000)) &gt;&gt; 24))</span><br></pre></td></tr></table></figure>
5）使用CPU指令<br>现代CPU提供很多指令可直接完成常见功能，比如大小端转换，x86有bswap指令直接支持了。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">static inline uint64_t rte_arch_bswap64(uint64_t _x)</span><br><span class="line">&#123;</span><br><span class="line">	register uint64_t x = _x;</span><br><span class="line">	asm volatile (&quot;bswap %[x]&quot;</span><br><span class="line">		      : [x] &quot;+r&quot; (x)</span><br><span class="line">		      );</span><br><span class="line">	return x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
这个实现，也是GLIBC的实现，先常量优化、CPU指令优化、最后才用裸代码实现。毕竟都是顶端程序员，对语言、编译器，对实现的追求不一样，所以造轮子前一定要先了解好轮子。<br>Google开源的<a target="_blank" rel="noopener" href="https://github.com/google/cpu_features">cpu_features</a>可以获取当前CPU支持什么特性，从而对特定CPU进行执行优化。高性能编程永无止境，对硬件、内核、编译器、开发语言的理解要深入且与时俱进。<h2 id="七、DPDK生态"><a href="#七、DPDK生态" class="headerlink" title="七、DPDK生态"></a>七、DPDK生态</h2>对我们互联网后台开发来说DPDK框架本身提供的能力还是比较裸的，比如要使用DPDK就必须实现ARP、IP层这些基础功能，有一定上手难度。如果要更高层的业务使用，还需要用户态的传输协议支持。不建议直接使用DPDK。<br>目前生态完善，社区强大（一线大厂支持）的应用层开发项目是<a target="_blank" rel="noopener" href="https://fd.io/">FD.io</a>（The Fast Data Project），有思科开源支持的<a target="_blank" rel="noopener" href="https://wiki.fd.io/view/VPP">VPP</a>，比较完善的协议支持，ARP、VLAN、Multipath、IPv4/v6、MPLS等。用户态传输协议UDP/TCP有<a target="_blank" rel="noopener" href="https://wiki.fd.io/view/TLDK">TLDK</a>。从项目定位到社区支持力度算比较靠谱的框架。<br>腾讯云开源的<a target="_blank" rel="noopener" href="https://github.com/f-stack/f-stack">F-Stack</a>也值得关注一下，开发更简单，直接提供了POSIX接口。<br><a target="_blank" rel="noopener" href="https://github.com/scylladb/seastar">Seastar</a>也很强大和灵活，内核态和DPDK都随意切换，也有自己的传输协议<a target="_blank" rel="noopener" href="https://github.com/scylladb/seastar/blob/master/doc/native-stack.md">Seastar Native TCP/IP Stack</a>支持，但是目前还未看到有大型项目在使用Seastar，可能需要填的坑比较多。<br>我们GBN Gateway项目需要支持L3/IP层接入做Wan网关，单机20GE，基于DPDK开发。</li>
</ol>

      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="https://wuhaocn.github.io/2021/08/04/network/dpdk/%E4%B8%80%E6%96%87%E7%9C%8B%E6%87%82DPDK/" title="一文看懂DPDK" target="_blank" rel="external">https://wuhaocn.github.io/2021/08/04/network/dpdk/一文看懂DPDK/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>版权声明： </strong> 本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！
    </li>
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="https://github.com/wuhaocn" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/avatar.png" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="https://github.com/wuhaocn" target="_blank"><span class="text-dark">wuhaocn</span><small class="ml-1x">Java &amp; 后端 &amp; 通信</small></a></h3>
        <div>个人简介。</div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    
  <section id="comments">
  	
      <div id="vcomments"></div>
    
  </section>


  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/2021/08/04/network/dpdk/DPDK-%E6%9E%B6%E6%9E%84%E8%A7%A3%E6%9E%90/" title="DPDK-架构解析"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;上一篇</span></a>
    </li>
    
    
    <li class="next">
      <a href="/2021/08/04/network/5G%E7%A7%BB%E5%8A%A8%E7%BD%91%E7%BB%9C/" title="5G网络"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
  </ul>
  
  
  
  <div class="bar-right">
    
    <div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,qzone"></div>
    
  </div>
  </div>
</nav>
  


</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/wuhaocn" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://weibo.com/cofess" target="_blank" title="Weibo" data-toggle=tooltip data-placement=top><i class="icon icon-weibo"></i></a></li>
        
        <li><a href="https://twitter.com/iwebued" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
        <li><a href="https://www.behance.net/cofess" target="_blank" title="Behance" data-toggle=tooltip data-placement=top><i class="icon icon-behance"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li>
        
    </ul>

    <div class="copyright">
    	
        <div class="publishby">
        	Theme by <a href="https://github.com/wuhaocn" target="_blank"> cofess </a>base on <a href="https://github.com/wuhaocn/hexo-theme-pure" target="_blank">pure</a>.
        </div>
    </div>
</footer>
  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>

<script src="/js/plugin.min.js"></script>


<script src="/js/application.js"></script>


    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>






   




   
    
  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/valine"></script>
  <script type="text/javascript">
  var GUEST = ['nick', 'mail', 'link'];
  var meta = 'nick,mail,link';
  meta = meta.split(',').filter(function(item) {
    return GUEST.indexOf(item) > -1;
  });
  new Valine({
    el: '#vcomments',
    verify: false,
    notify: false,
    appId: 'UWmpsjuNfPNkkicYrPtMzVQC-gzGzoHsz',
    appKey: '825aG0XPHawp6VAXnYsrnlp3',
    placeholder: 'Just go go',
    avatar: 'mm',
    meta: meta,
    pageSize: '10' || 10,
    visitor: false
  });
  </script>

     







</body>
</html>